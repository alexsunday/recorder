
2字节长度，1字节命令位；1字节参数位；剩下为内容，可以填充 64K；
参数位用来标识后续的数据，如是否压缩，是否加密等

2 字节长度，表示总长度，包括这两字节
1 字节命令，所以可以有 0xFF 256 种
1 字节参数，按位表达
N 字节包体，可以为空

0. 先使用 HTTP api 注册设备

1. 设备登录 0x01，opt == 0，包体 json 每次连接，先发这个登录 使用终端自己生成的，或者服务器下方的设备ID
2. 开始一个音频会话 配置后续音频参数 如采样率，采样深度，声道数等，服务器返回一个会话标识 简单起见也用json
3. 音频流上送 必须指定会话ID

客户端启动后
1. 发送登录请求，收到服务器正确响应后才意味着服务器接收了客户端 第一步完成
2. 发送「开始音频会话」请求
3. 若收到正确的会话标识，则亮绿灯，此时才标志着成功连接到了服务器

核心技术点：
1. 实时音频流上送与保存
2. 实时流压缩技术 第一步可以先不压缩

// 顺便总结一下写 golang 服务器程序的惯用套路
1. connection 对象，至少要有 的对象， io.ReadWriteCloser, context.Context, context.CancelFunc, chIn/chOut chan *Frame, 
2. 必须至少有的方法 ReadLoop, Handle

// TODO
0. 加入配置
1. 引入 websocket 
2. 引入 gin，加入 业务API
3. 引入数据库 gorm 等

// 设计一个简单的业务系统
1. 用户模型
2. 设备模型 ？

接口
注册，登录
设备登记

TODO
1. 